(function(){var t=function(){function t(t,s){var i=this;this.elem=t,this.options=this.extend(s,this.defaults),this.rating=this.options.rating,this.readOnly=this.options.readOnly,this.max=this.options.max,this.options.create?this.createStar():(this.max=this.getStar().length,this.syncStar()),this.syncRating(),this.readOnly&&(this.elem.addEventListener("click",function(t){t.preventDefault(),i.doCallback(t,i.setRating.bind(i)),i.readOnly=!1}),this.elem.addEventListener("mouseover",function(t){i.doCallback(t,i.syncRating.bind(i))}),this.elem.addEventListener("mouseout",function(t){i.syncRating()}))}return t.prototype.defaults={el:".star",max:5,create:!0,classIcon:"fa",emptyClass:"fa-star-o",fullClass:"fa-star",clickColor:"#ffb600",callback:null,readOnly:!0,rating:void 0},t.prototype.doCallback=function(t,s){if(this.readOnly){var i=t.target,n=this.getStar();if(i.classList.contains(this.options.classIcon))for(var e=0,o=n.length;e<o;e++)n[e]==i&&s(e+1)}},t.prototype.setColorClick=function(){for(var t=this.getStar(),s=this.rating,i=0;i<s;i++)t[i].style.color=this.options.clickColor},t.prototype.createStar=function(){for(var t=this.max,s=0;s<t;s++){var i=document.createElement("a");i.setAttribute("href","#"),i.classList.add(this.options.classIcon),this.elem.appendChild(i)}},t.prototype.getStar=function(){return this.elem.querySelectorAll("a")},t.prototype.syncRating=function(t){for(var s=this.getStar(),i=t||this.rating,n=1,e=this.max;n<=e;n++)s[n-1].classList.remove(i>=n?this.options.emptyClass:this.options.fullClass),s[n-1].classList.add(i>=n?this.options.fullClass:this.options.emptyClass)},t.prototype.setRating=function(t){this.rating=t,this.syncRating(),this.setColorClick(),null!=this.options.callback&&this.options.callback(this.elem,t)},t.prototype.extend=function(t,s){var i,n;for(i in s)n=s[i],null==t[i]&&(t[i]=n);return t},t.prototype.syncStar=function(){for(var t=this.getStar(),s=t.length,i=0;i<s;i++)t[i].classList.add(this.options.classIcon)},t}();this.CreateStar=function(){function s(t){return this.init(t.el,t)}return s.prototype.init=function(s,i){for(var n=document.querySelectorAll(s),e=0,o=n.length;e<o;e++)new t(n[e],i)},s}()}).call(this);